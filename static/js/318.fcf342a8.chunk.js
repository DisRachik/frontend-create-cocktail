"use strict";(self.webpackChunkfrontend_create_cocktail=self.webpackChunkfrontend_create_cocktail||[]).push([[318],{3318:function(n,t,e){e.r(t),e.d(t,{default:function(){return W}});var r,i,o,a,c,s,l,u=e(5861),g=e(9439),d=e(4687),h=e.n(d),p=e(2015),f=e(168),y=e(6856),m=e(9443),v=e(6088),x=v.Z.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),k=v.Z.ul(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n"]))),w=v.Z.li(o||(o=(0,f.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]))),j=v.Z.button(a||(a=(0,f.Z)(["\n  transition: ",";\n\n  :disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n  :focus {\n    outline: 1px solid ",";\n  }\n"])),m.r.animation("opacity"),m.r.colors.grayOpacity),Z="\n  color: ".concat(m.r.colors.lightGray,";\n  width: 28px;\n  height: 35px;\n  transition: ").concat(m.r.animation("color"),";\n  transition: ").concat(m.r.animation("scale"),";\n\n  :hover,\n  :focus {\n    color: ").concat(m.r.colors.lightGray,";\n    scale: 1.5;\n  }\n"),b=(0,v.Z)(y.RL9)(c||(c=(0,f.Z)(["\n  ","\n"])),Z),P=(0,v.Z)(y.Bqb)(s||(s=(0,f.Z)(["\n  ","\n"])),Z),C=v.Z.button(l||(l=(0,f.Z)(["\n  color: ",";\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n\n  transition: ",";\n  transition: ",";\n  transition: ",";\n\n  &:hover {\n    scale: 1.2;\n    background-color: rgba(64, 112, 205, 0.2);\n    color: ",";\n    outline: 1px solid ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &.active {\n    background-color: ",";\n    color: ",";\n    :hover,\n    :focus {\n      scale: 1;\n    }\n  }\n"])),m.r.colors.transparentLight,m.r.animation("scale"),m.r.animation("background-color"),m.r.animation("color"),m.r.colors.lightGray,m.r.colors.grayOpacity,m.r.colors.lightBlueLight,m.r.colors.lightGray),L=e(184),S=function(n){for(var t=n.paginate,e=n.prevPage,r=n.nextPage,i=n.currentPage,o=n.totalPages,a=[],c=1;c<=o;c++)a.push(c);var s=[],l=Math.max(i-4,1),u=Math.min(l+8-1,o),g=l>1,d=u<o;l>1&&s.push(1),g&&s.push("...");for(var h=l;h<=u;h++)s.push(h);return d&&s.push("..."),u<o&&s.push(o),(0,L.jsx)(x,{children:a.length>1&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j,{onClick:e,disabled:1===i,children:(0,L.jsx)(b,{disabled:1===i})}),(0,L.jsx)(k,{children:s.map((function(n,e){return(0,L.jsx)(w,{children:"..."===n?(0,L.jsx)("span",{children:n}):(0,L.jsx)(C,{className:n===i?"active":"",onClick:function(){return"..."!==n?t(n):null},children:n})},e)}))}),(0,L.jsx)(j,{onClick:r,disabled:i===o,children:(0,L.jsx)(P,{})})]})})},E=e(2791),G=e(9434),I=e(4257),_=e(1087),q=e(6933),z=e(1134),O=e(9085),W=function(){var n=(0,_.lr)(),t=(0,g.Z)(n,2),e=t[0],r=t[1],i=(0,E.useState)([]),o=(0,g.Z)(i,2),a=o[0],c=o[1],s=(0,E.useState)(0),l=(0,g.Z)(s,2),d=l[0],f=l[1],y=(0,E.useState)(1),m=(0,g.Z)(y,2),v=m[0],x=m[1],k=(0,E.useState)(b(window.innerWidth)),w=(0,g.Z)(k,2),j=w[0],Z=w[1];function b(n){return n<1440?10:9}var P=(0,z.cI)({defaultValues:{drink:"",category:"",ingredients:""}}),C=P.control,W=P.handleSubmit,B=P.getValues,D=(0,G.v9)(I.us.data),F=(0,G.v9)(I.jq.data),M=e.get("category")||"",N=e.get("drink")||"",V=e.get("ingredients")||"",A=j,H=Number(e.get("page"))||1,J=(0,G.I0)();(0,E.useEffect)((function(){Promise.all([J((0,I.pE)()),J((0,I.D8)())]).catch((function(){return O.Am.error("Oops... Something went wrong :( Please try again later.")}))}),[J]),(0,E.useEffect)((function(){function n(){Z(b(window.innerWidth))}Z(b(window.innerWidth)),window.addEventListener("resize",n);var t={drink:N,category:M,ingredients:V,limit:j,page:H};return(0,q.sz)(t).then((function(n){c(n.results),f(n.totalPages),window.scrollTo({top:0,right:0,behavior:"smooth"})})).catch(console.log),function(){window.removeEventListener("resize",n)}}),[M,v,N,j,V,H,e]);var R=function(){var n=(0,u.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=B("drink"),r({drink:t,category:M,ingredients:V,limit:A,page:1}),x(1);case 1:case"end":return n.stop()}var t}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(n){x(n),r({drink:N,category:M,ingredients:V,limit:A,page:n})};return(0,L.jsxs)(p.$0,{title:"Drinks",children:[(0,L.jsx)(p.uJ,{onSubmit:W(R),control:C,categoriesList:D,ingredientsList:F,onChangeCategory:function(){var n;n=B("category.value"),r({drink:N,category:n,ingredients:V,limit:A,page:1}),x(1)},onChangeIngredient:function(){var n;n=B("ingredients.value"),r({drink:N,category:M,ingredients:n,limit:A,page:1}),x(1)},initialCategory:e.get("category"),initialIngredient:e.get("ingredients")}),0===a.length?(0,L.jsx)(p.we,{text:"Hmm, it seems like we haven't tasted any drinks matching your search criteria just yet. You might want to adjust your query; we've got plenty to show you!"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(p.u5,{drinks:a}),(0,L.jsx)(S,{paginate:T,nextPage:function(){return T(v+1)},prevPage:function(){return T(v-1)},currentPage:H,totalPages:d})]})]})}}}]);
//# sourceMappingURL=318.fcf342a8.chunk.js.map