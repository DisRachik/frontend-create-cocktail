{"version":3,"file":"static/js/643.39fe77f9.chunk.js","mappings":"kOAyEA,UAnEiB,WACf,OAAiCA,EAAAA,EAAAA,UAAS,IAA1C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,GAAjD,eAAOG,EAAP,KAAqBC,EAArB,MAEAC,EAAAA,EAAAA,YAAU,WAIR,SAASC,IACPF,EAAiCG,OAAOC,WAHnB,KAAO,EAAI,EAIjC,CAQD,OANAD,OAAOE,iBAAiB,SAAUH,IAElC,iBAAC,0FACCJ,EADD,UACmBQ,EAAAA,EAAAA,MADnB,4EAAD,GAIO,WACLH,OAAOI,oBAAoB,SAAUL,EACtC,CACF,GAAE,IAEH,IAAMM,EAAgBX,EAAUY,MAAM,EAAGV,GAMnCW,EAAW,mCAAG,WAAMC,GAAN,wEAClBC,EAAAA,EAAAA,IAAoBD,GAEdE,EAAehB,EAAUiB,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAQL,CAAjB,IAC1Cb,EAAYe,GAJM,2CAAH,sDAOjB,OACE,SAAC,KAAD,CAASI,MAAM,YAAf,SAC4B,IAAzBT,EAAcU,QACb,iCACE,SAAC,KAAD,CACEC,MAAOX,EACPY,OAAQV,EACRW,OAAQ,CACNJ,MAAO,6CACPK,iBAAkB,SAIrBvB,EAAeF,EAAUqB,SACxB,gBAAKK,MAAO,CAAEC,UAAW,UAAzB,UACE,SAAC,KAAD,CAAQC,KAAK,SAASC,QA1BZ,WACpB1B,GAAgB,SAAA2B,GAAS,OAAIA,EAAY,CAAhB,GAC1B,EAwBW,SAA8C,oBAOpD,SAAC,KAAD,CACEC,KAAK,+CACLC,gBAAc,KAKvB,C","sources":["pages/Favorite.jsx"],"sourcesContent":["import { Section, RecipesList, EmptyAndError, Button } from 'components';\n\nimport { useEffect, useState } from 'react';\n\nimport { deleteFromFavorites, getFavorites } from 'api';\n\nconst Favorite = () => {\n  const [favorites, setFavorite] = useState([]);\n  const [visibleCount, setVisibleCount] = useState(9);\n\n  useEffect(() => {\n    function calculatePerPage(windowWidth) {\n      return windowWidth < 1440 ? 8 : 9;\n    }\n    function handleResize() {\n      setVisibleCount(calculatePerPage(window.innerWidth));\n    }\n\n    window.addEventListener('resize', handleResize);\n\n    (async () => {\n      setFavorite(await getFavorites());\n    })();\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const currentDrinks = favorites.slice(0, visibleCount);\n\n  const seeMoreDrinks = () => {\n    setVisibleCount(prevState => prevState + 9);\n  };\n\n  const handleClick = async id => {\n    deleteFromFavorites(id);\n\n    const filterDrinks = favorites.filter(data => data._id !== id);\n    setFavorite(filterDrinks);\n  };\n\n  return (\n    <Section title=\"Favorites\">\n      {currentDrinks.length !== 0 ? (\n        <>\n          <RecipesList\n            array={currentDrinks}\n            action={handleClick}\n            params={{\n              title: 'Do you really want to delete this cocktail',\n              agreementBtnText: 'Yes',\n            }}\n          />\n\n          {visibleCount < favorites.length && (\n            <div style={{ textAlign: 'center' }}>\n              <Button type=\"button\" onClick={seeMoreDrinks}>\n                see other\n              </Button>\n            </div>\n          )}\n        </>\n      ) : (\n        <EmptyAndError\n          text=\"You haven`t added any favorite cocktails yet\"\n          closeModalRoot\n        />\n      )}\n    </Section>\n  );\n};\n\nexport default Favorite;\n"],"names":["useState","favorites","setFavorite","visibleCount","setVisibleCount","useEffect","handleResize","window","innerWidth","addEventListener","getFavorites","removeEventListener","currentDrinks","slice","handleClick","id","deleteFromFavorites","filterDrinks","filter","data","_id","title","length","array","action","params","agreementBtnText","style","textAlign","type","onClick","prevState","text","closeModalRoot"],"sourceRoot":""}