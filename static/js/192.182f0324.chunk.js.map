{"version":3,"file":"static/js/192.182f0324.chunk.js","mappings":"iOA0FA,UArFkB,WAChB,OAAkCA,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEA,GAAwBN,EAAAA,EAAAA,UAAS,GAAjC,eAAOO,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WAQRC,OAAOC,iBAAiB,UAHxB,WACEH,EAAwBE,OAAOE,WAJV,KAAO,EAAI,EAKjC,KAGD,iBAAC,oGAEGR,GAAa,GAFhB,UAGwBS,EAAAA,EAAAA,MAHxB,OAGSC,EAHT,OAIGZ,EAAaY,GAJhB,gDAMGR,EAAS,EAAD,IANX,yBAQGF,GAAa,GARhB,2EAAD,EAWD,GAAE,IAEH,IAAMW,EAAkB,mCAAG,WAAMC,GAAN,uFAEvBZ,GAAa,GAFU,UAGjBa,EAAAA,EAAAA,IAAeD,GAHE,wBAIFH,EAAAA,EAAAA,MAJE,OAIjBC,EAJiB,OAMvBZ,EAAaY,GANU,kDAQvBR,EAAS,EAAD,IARe,yBAUvBF,GAAa,GAVU,6EAAH,sDAkBlBc,EAAejB,EAAUkB,MAAM,EAAGZ,GAElCa,EAAcnB,EAAUoB,OAAS,EAEvC,OACE,+BACE,SAAC,KAAD,CAASC,MAAM,aAAf,UACE,gCACGF,GACC,SAAC,KAAD,CACEG,MAAOL,EACPM,OAAQT,EACRU,OAAQ,CACNH,MACE,+DACFI,iBAAkB,UAItB,SAAC,KAAD,CAAeC,KAAK,8BAA8BC,gBAAc,IAEjE3B,EAAUoB,SAAWH,EAAaG,SACjC,+BACE,gBAAKQ,MAAO,CAAEC,UAAW,UAAzB,UACE,SAAC,KAAD,CAAQC,KAAK,SAASC,QA5Bd,WACpBxB,EAAQD,EAAOA,EAChB,EA0Ba,SAA8C,kBAMnDJ,IAAcE,IAAS,uBAAG,iCAKpC,C","sources":["pages/MyRecipes.jsx"],"sourcesContent":["import { Button, EmptyAndError, Section } from 'components';\nimport { RecipesList } from 'components';\nimport { useEffect, useState } from 'react';\nimport { deleteMyRecipe, getMyRecipes } from 'api';\n\nconst MyRecipes = () => {\n  const [myRecipes, setMyRecipes] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [next, setNext] = useState(9);\n\n  useEffect(() => {\n    function calculateOnPage(widthWindow) {\n      return widthWindow < 1200 ? 8 : 9;\n    }\n\n    function handleResize() {\n      setNext(calculateOnPage(window.innerWidth));\n    }\n    window.addEventListener('resize', handleResize);\n\n    (async () => {\n      try {\n        setIsLoading(true);\n        const result = await getMyRecipes();\n        setMyRecipes(result);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, []);\n\n  const handleRemoveRecipe = async id => {\n    try {\n      setIsLoading(true);\n      await deleteMyRecipe(id);\n      const result = await getMyRecipes();\n\n      setMyRecipes(result);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const seeMoreDrinks = () => {\n    setNext(next + next);\n  };\n\n  const sliceRecipes = myRecipes.slice(0, next);\n\n  const isMyRecipes = myRecipes.length > 0;\n\n  return (\n    <>\n      <Section title=\"My recipes\">\n        <>\n          {isMyRecipes ? (\n            <RecipesList\n              array={sliceRecipes}\n              action={handleRemoveRecipe}\n              params={{\n                title:\n                  'Do you really want to delete this cocktail from your recipes',\n                agreementBtnText: 'Yes',\n              }}\n            />\n          ) : (\n            <EmptyAndError text=\"You don't have your recipes\" closeModalRoot />\n          )}\n          {myRecipes.length !== sliceRecipes.length && (\n            <>\n              <div style={{ textAlign: 'center' }}>\n                <Button type=\"button\" onClick={seeMoreDrinks}>\n                  see other\n                </Button>\n              </div>\n            </>\n          )}\n          {isLoading && !error && <b>Request in progress...</b>}\n        </>\n      </Section>\n    </>\n  );\n};\n\nexport default MyRecipes;\n"],"names":["useState","myRecipes","setMyRecipes","isLoading","setIsLoading","error","setError","next","setNext","useEffect","window","addEventListener","innerWidth","getMyRecipes","result","handleRemoveRecipe","id","deleteMyRecipe","sliceRecipes","slice","isMyRecipes","length","title","array","action","params","agreementBtnText","text","closeModalRoot","style","textAlign","type","onClick"],"sourceRoot":""}