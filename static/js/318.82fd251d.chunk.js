"use strict";(self.webpackChunkfrontend_create_cocktail=self.webpackChunkfrontend_create_cocktail||[]).push([[318],{3318:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var r,i,a,o,c,s,u,l=t(5861),g=t(9439),d=t(4687),f=t.n(d),h=t(2440),p=t(168),x=t(6856),v=t(9443),Z=t(6088),w=Z.Z.div(r||(r=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),k=Z.Z.ul(i||(i=(0,p.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 10px;\n"]))),b=Z.Z.li(a||(a=(0,p.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]))),j=Z.Z.button(o||(o=(0,p.Z)(["\n  :hover,\n  :focus {\n    color: rgba(243, 243, 243, 0.6);\n    scale: 1.5;\n  }\n"]))),y=(0,Z.Z)(x.RL9)(c||(c=(0,p.Z)(["\n  color: ",";\n  width: 18px;\n  height: 25px;\n"])),v.r.colors.transparentLight),m=(0,Z.Z)(x.Bqb)(s||(s=(0,p.Z)(["\n  color: rgba(243, 243, 243, 0.3);\n  width: 18px;\n  height: 25px;\n"]))),P=Z.Z.button(u||(u=(0,p.Z)(["\n  color: rgba(243, 243, 243, 1);\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n  margin-bottom: 10px;\n\n  &:focus,\n  :hover {\n    scale: 1.2;\n  }\n\n  &.active {\n    background-color: rgba(64, 112, 205, 0.5);\n  }\n"]))),C=t(184),z=function(n){for(var e=n.paginate,t=n.prevPage,r=n.nextPage,i=n.currentPage,a=n.totalPages,o=[],c=1;c<=a;c++)o.push(c);return(0,C.jsxs)(w,{children:[(0,C.jsx)(j,{onClick:t,disabled:1===i,children:(0,C.jsx)(y,{})}),(0,C.jsx)(k,{children:o.map((function(n){return(0,C.jsx)(b,{children:(0,C.jsx)(P,{className:n===i?"active":"",onClick:function(){return e(n)},children:n})},n)}))}),(0,C.jsx)(j,{onClick:r,disabled:i===a,children:(0,C.jsx)(m,{})})]})},L=t(2791),S=t(9434),I=t(6759),_=t(1087),E=t(8232),W=t(1134),V=function(){var n=(0,S.I0)(),e=(0,_.lr)(),t=(0,g.Z)(e,1)[0],r=(0,L.useState)([]),i=(0,g.Z)(r,2),a=i[0],o=i[1],c=(0,L.useState)(0),s=(0,g.Z)(c,2),u=s[0],d=s[1],p=(0,L.useState)(1),x=(0,g.Z)(p,2),v=x[0],Z=x[1],w=(0,L.useState)(y(window.innerWidth)),k=(0,g.Z)(w,2),b=k[0],j=k[1];function y(n){return n<1440?10:9}var m=(0,S.v9)(I.selectCategories.data),P=(0,S.v9)(I.selectIngredients.data);0===m.length&&n((0,I.fetchCategories)()),0===P.length&&n((0,I.fetchIngredients)());var V=(0,W.cI)({defaultValues:{drink:"",category:null,ingredients:null}}),q=V.control,B=V.handleSubmit,D=V.getValues;(0,L.useEffect)((function(){function n(){j(y(window.innerWidth))}if(j(y(window.innerWidth)),window.addEventListener("resize",n),t.get("category")){var e={category:t.get("category")||"",limit:b,page:v};(0,E.sz)(e).then((function(n){o(n.results),d(n.totalPages)})).catch(console.log)}else{var r={category:"Cocktail",limit:b,page:v};(0,E.sz)(r).then((function(n){o(n.results),d(n.totalPages)}))}return function(){window.removeEventListener("resize",n)}}),[v,b,t]);var F=function(){var n=D(),e=n.drink,t=n.category,r=n.ingredients;return{drink:e||"",category:t?t.value:"",ingredients:r?r.value:"",limit:b,page:v}},J=function(){var n=(0,l.Z)(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,E.sz)(F()).then((function(n){o(n.results),d(n.totalPages)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(h.$0,{title:"Drinks",children:[(0,C.jsx)(h.uJ,{onSubmit:B(J),control:q,categoriesList:m,ingredientsList:P,onChangeCategory:function(){(0,E.sz)(F()).then((function(n){o(n.results),d(n.totalPages)}))},onChangeIngredient:function(){(0,E.sz)(F()).then((function(n){o(n.results),d(n.totalPages)}))},initialCategory:t.get("category")}),(0,C.jsx)(h.u5,{drinks:a}),(0,C.jsx)(z,{paginate:function(n){return Z(n)},nextPage:function(){return Z((function(n){return n+1}))},prevPage:function(){return Z((function(n){return n-1}))},currentPage:v,totalPages:u})]})})}}}]);
//# sourceMappingURL=318.82fd251d.chunk.js.map