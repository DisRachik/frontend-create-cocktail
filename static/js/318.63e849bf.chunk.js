"use strict";(self.webpackChunkfrontend_create_cocktail=self.webpackChunkfrontend_create_cocktail||[]).push([[318],{3318:function(n,t,e){e.r(t),e.d(t,{default:function(){return W}});var r,i,a,o,s,c,l,u=e(5861),g=e(9439),d=e(4687),h=e.n(d),p=e(2015),f=e(168),m=e(6856),x=e(9443),y=e(6088),v=y.Z.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),w=y.Z.ul(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 10px;\n"]))),k=y.Z.li(a||(a=(0,f.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]))),j=y.Z.button(o||(o=(0,f.Z)(["\n  transition: ",";\n\n  &:disabled {\n    opacity: 0;\n  }\n"])),x.r.animation("opacity")),Z=(0,y.Z)(m.RL9)(s||(s=(0,f.Z)(["\n  color: ",";\n  width: 28px;\n  height: 35px;\n  transition: ",";\n  transition: ",";\n\n  :hover,\n  :focus {\n    color: ",";\n    scale: 1.5;\n  }\n"])),x.r.colors.lightGrayTransparent,x.r.animation("color"),x.r.animation("scale"),x.r.colors.lightGray),b=(0,y.Z)(m.Bqb)(c||(c=(0,f.Z)(["\n  color: ",";\n  width: 28px;\n  height: 35px;\n  transition: ",";\n  transition: ",";\n\n  :hover,\n  :focus {\n    color: ",";\n    scale: 1.5;\n  }\n"])),x.r.colors.lightGray,x.r.animation("color"),x.r.animation("scale"),x.r.colors.lightGray),P=y.Z.button(l||(l=(0,f.Z)(["\n  color: ",";\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n  margin-bottom: 10px;\n  transition: ",";\n  transition: ",";\n  transition: ",";\n\n  &:focus,\n  :hover {\n    scale: 1.2;\n  }\n\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n"])),x.r.colors.transparentLight,x.r.animation("scale"),x.r.animation("background-color"),x.r.animation("color"),x.r.colors.lightBlueLight,x.r.colors.lightGray),C=e(184),L=function(n){for(var t=n.paginate,e=n.prevPage,r=n.nextPage,i=n.currentPage,a=n.totalPages,o=[],s=1;s<=a;s++)o.push(s);var c=[],l=Math.max(i-4,1),u=Math.min(l+8-1,a),g=l>1,d=u<a;l>1&&c.push(1),g&&c.push("...");for(var h=l;h<=u;h++)c.push(h);return d&&c.push("..."),u<a&&c.push(a),(0,C.jsx)(v,{children:o.length>1&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j,{onClick:e,disabled:1===i,children:(0,C.jsx)(Z,{})}),(0,C.jsx)(w,{children:c.map((function(n,e){return(0,C.jsx)(k,{children:"..."===n?(0,C.jsx)("span",{children:n}):(0,C.jsx)(P,{className:n===i?"active":"",onClick:function(){return"..."!==n?t(n):null},children:n})},e)}))}),(0,C.jsx)(j,{onClick:r,disabled:i===a,children:(0,C.jsx)(b,{})})]})})},S=e(2791),E=e(9434),G=e(4257),I=e(1087),_=e(6933),q=e(1134),z=e(9085),W=function(){var n=(0,I.lr)(),t=(0,g.Z)(n,2),e=t[0],r=t[1],i=(0,S.useState)([]),a=(0,g.Z)(i,2),o=a[0],s=a[1],c=(0,S.useState)(0),l=(0,g.Z)(c,2),d=l[0],f=l[1],m=(0,S.useState)(1),x=(0,g.Z)(m,2),y=x[0],v=x[1],w=(0,S.useState)(b(window.innerWidth)),k=(0,g.Z)(w,2),j=k[0],Z=k[1];function b(n){return n<1440?10:9}var P=(0,q.cI)({defaultValues:{drink:"",category:"",ingredients:""}}),W=P.control,B=P.handleSubmit,D=P.getValues,F=(0,E.v9)(G.us.data),M=(0,E.v9)(G.jq.data),V=e.get("category")||"",A=e.get("drink")||"",H=e.get("ingredients")||"",J=j,N=y,O=(0,E.I0)();(0,S.useEffect)((function(){Promise.all([O((0,G.pE)()),O((0,G.D8)())]).catch((function(){return z.Am.error("Oops... Something went wrong :( Please try again later.")}))}),[O]),(0,S.useEffect)((function(){function n(){Z(b(window.innerWidth))}Z(b(window.innerWidth)),window.addEventListener("resize",n);var t={drink:A,category:V,ingredients:H,limit:j,page:y};return(0,_.sz)(t).then((function(n){s(n.results),f(n.totalPages)})).catch(console.log),function(){window.removeEventListener("resize",n)}}),[V,y,A,j,H,e]);var R=function(){var n=(0,u.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v(1),t=D("drink"),r({drink:t,category:V,ingredients:H,limit:J,page:N});case 2:case"end":return n.stop()}var t}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(n){v(n),r({drink:A,category:V,ingredients:H,limit:J,page:n})};return(0,C.jsxs)(p.$0,{title:"Drinks",children:[(0,C.jsx)(p.uJ,{onSubmit:B(R),control:W,categoriesList:F,ingredientsList:M,onChangeCategory:function(){var n;v(1),n=D("category.value"),r({drink:A,category:n,ingredients:H,limit:J,page:N})},onChangeIngredient:function(){var n;v(1),n=D("ingredients.value"),r({drink:A,category:V,ingredients:n,limit:J,page:N})},initialCategory:e.get("category"),initialIngredient:e.get("ingredients")}),0===o.length?(0,C.jsx)(p.we,{text:"Hmm, it seems like we haven't tasted any drinks matching your search criteria just yet. You might want to adjust your query; we've got plenty to show you!"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(p.u5,{drinks:o}),(0,C.jsx)(L,{paginate:T,nextPage:function(){return T(y+1)},prevPage:function(){return T(y-1)},currentPage:y,totalPages:d})]})]})}}}]);
//# sourceMappingURL=318.63e849bf.chunk.js.map