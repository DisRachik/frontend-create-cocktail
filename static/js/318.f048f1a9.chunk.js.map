{"version":3,"file":"static/js/318.f048f1a9.chunk.js","mappings":"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","sources":["components/Pagination/Pagination.styled.jsx","components/Pagination/Pagination.jsx","pages/Drinks.jsx"],"sourcesContent":["import {\n  MdOutlineKeyboardArrowLeft,\n  MdOutlineKeyboardArrowRight,\n} from 'react-icons/md';\nimport { theme } from 'styles';\nimport styled from '@emotion/styled';\n\nexport const PaginWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const PaginationList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 10px;\n`;\n\nexport const PaginListItem = styled.li`\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n`;\nexport const ArrowBtn = styled.button`\n  :hover,\n  :focus {\n    color: ${theme.colors.lightGrayTransparent};\n    scale: 1.5;\n  }\n`;\nexport const ArrowPrev = styled(MdOutlineKeyboardArrowLeft)`\n  color: ${theme.colors.transparentLight};\n  width: 18px;\n  height: 25px;\n`;\nexport const ArrowNext = styled(MdOutlineKeyboardArrowRight)`\n  color: rgba(243, 243, 243, 0.3);\n  width: 18px;\n  height: 25px;\n`;\n\nexport const BtnItem = styled.button`\n  color: ${theme.colors.transparentLight};\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n  margin-bottom: 10px;\n\n  &:focus,\n  :hover {\n    scale: 1.2;\n  }\n\n  &.active {\n    background-color: rgba(64, 112, 205, 0.5);\n  }\n`;\n","import PropTypes from 'prop-types';\nimport {\n  ArrowBtn,\n  ArrowNext,\n  ArrowPrev,\n  BtnItem,\n  PaginListItem,\n  PaginWrapper,\n  PaginationList,\n} from './Pagination.styled';\n\nexport const Pagination = ({\n  paginate,\n  prevPage,\n  nextPage,\n  currentPage,\n  totalPages,\n}) => {\n  const pageNumbers = [];\n  for (let i = 1; i <= totalPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <PaginWrapper>\n      {pageNumbers.length > 1 && (\n        <>\n          <ArrowBtn onClick={prevPage} disabled={currentPage === 1}>\n            <ArrowPrev />\n          </ArrowBtn>\n          <PaginationList>\n            {pageNumbers.map(number => (\n              <PaginListItem key={number}>\n                <BtnItem\n                  className={number === currentPage ? 'active' : ''}\n                  onClick={() => paginate(number)}\n                >\n                  {number}\n                </BtnItem>\n              </PaginListItem>\n            ))}\n          </PaginationList>\n          <ArrowBtn onClick={nextPage} disabled={currentPage === totalPages}>\n            <ArrowNext />\n          </ArrowBtn>\n        </>\n      )}\n    </PaginWrapper>\n  );\n};\n\nPagination.propTypes = {\n  paginate: PropTypes.func.isRequired,\n  prevPage: PropTypes.func.isRequired,\n  nextPage: PropTypes.func.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n};\n","import { EmptyAndError, Section } from 'components';\nimport { DrinkList, DrinkSearchBar } from 'components';\nimport { Pagination } from 'components/Pagination/Pagination';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectCategories, selectIngredients } from '../redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { getDrinks } from 'api';\nimport { useForm } from 'react-hook-form';\n\nconst Drinks = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [drinks, setDrinks] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [drinksPerPage, setDrinksPerPage] = useState(\n    calculatePerPage(window.innerWidth)\n  );\n\n  function calculatePerPage(windowWidth) {\n    return windowWidth < 1440 ? 10 : 9;\n  }\n  const { control, handleSubmit, getValues } = useForm({\n    defaultValues: {\n      drink: '',\n      category: '',\n      ingredients: '',\n    },\n  });\n  const categoriesList = useSelector(selectCategories.data);\n  const ingredientsList = useSelector(selectIngredients.data);\n\n  const category = searchParams.get('category') || '';\n  const drink = searchParams.get('drink') || '';\n  const ingredients = searchParams.get('ingredients') || '';\n  const limit = drinksPerPage;\n  const page = currentPage;\n\n  useEffect(() => {\n    function handleResize() {\n      setDrinksPerPage(calculatePerPage(window.innerWidth));\n    }\n\n    setDrinksPerPage(calculatePerPage(window.innerWidth));\n    window.addEventListener('resize', handleResize);\n\n    const query = {\n      drink,\n      category,\n      ingredients,\n      limit: drinksPerPage,\n      page: currentPage,\n    };\n\n    getDrinks(query)\n      .then(data => {\n        setDrinks(data.results);\n        setTotalPages(data.totalPages);\n      })\n      .catch(console.log);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [category, currentPage, drink, drinksPerPage, ingredients, searchParams]);\n\n  const updateCatQuery = query => {\n    setSearchParams({\n      drink,\n      category: query,\n      ingredients,\n      limit,\n      page,\n    });\n  };\n\n  const updateIngrQuery = query => {\n    setSearchParams({\n      drink,\n      category,\n      ingredients: query,\n      limit,\n      page,\n    });\n  };\n  const updateDrinkQuery = query => {\n    setSearchParams({\n      drink: query,\n      category,\n      ingredients,\n      limit,\n      page,\n    });\n  };\n  const updatePagination = query => {\n    setSearchParams({\n      drink,\n      category,\n      ingredients,\n      limit,\n      page: query,\n    });\n  };\n\n  const onSubmit = async () => {\n    setCurrentPage(1);\n    updateDrinkQuery(getValues('drink'));\n  };\n\n  const handleCategoryChange = () => {\n    setCurrentPage(1);\n    updateCatQuery(getValues('category.value'));\n  };\n\n  const handleIngredientChange = () => {\n    setCurrentPage(1);\n    updateIngrQuery(getValues('ingredients.value'));\n  };\n\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n    updatePagination(pageNumber);\n  };\n\n  const nextPage = () => paginate(currentPage + 1);\n  const prevPage = () => paginate(currentPage - 1);\n\n  return (\n    <Section title=\"Drinks\">\n      {drinks.length === 0 ? (\n        <EmptyAndError\n          text={\n            \"Hmm, it seems like we haven't tasted any drinks matching your search criteria just yet. You might want to adjust your query; we've got plenty to show you!\"\n          }\n        />\n      ) : (\n        <>\n          <DrinkSearchBar\n            onSubmit={handleSubmit(onSubmit)}\n            control={control}\n            categoriesList={categoriesList}\n            ingredientsList={ingredientsList}\n            onChangeCategory={handleCategoryChange}\n            onChangeIngredient={handleIngredientChange}\n            initialCategory={searchParams.get('category')}\n            initialIngredient={searchParams.get('ingredients')}\n          />\n          <DrinkList drinks={drinks} />\n          <Pagination\n            paginate={paginate}\n            nextPage={nextPage}\n            prevPage={prevPage}\n            currentPage={currentPage}\n            totalPages={totalPages}\n          />\n        </>\n      )}\n    </Section>\n  );\n};\n\nexport default Drinks;\n"],"names":["PaginWrapper","styled","PaginationList","PaginListItem","ArrowBtn","theme","ArrowPrev","MdOutlineKeyboardArrowLeft","ArrowNext","MdOutlineKeyboardArrowRight","BtnItem","Pagination","paginate","prevPage","nextPage","currentPage","totalPages","pageNumbers","i","push","length","onClick","disabled","map","number","className","useSearchParams","searchParams","setSearchParams","useState","drinks","setDrinks","setTotalPages","setCurrentPage","calculatePerPage","window","innerWidth","drinksPerPage","setDrinksPerPage","windowWidth","useForm","defaultValues","drink","category","ingredients","control","handleSubmit","getValues","categoriesList","useSelector","selectCategories","ingredientsList","selectIngredients","get","limit","page","useEffect","handleResize","addEventListener","query","getDrinks","then","data","results","catch","console","log","removeEventListener","onSubmit","pageNumber","title","text","onChangeCategory","onChangeIngredient","initialCategory","initialIngredient"],"sourceRoot":""}