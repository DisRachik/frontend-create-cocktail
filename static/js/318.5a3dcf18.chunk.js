"use strict";(self.webpackChunkfrontend_create_cocktail=self.webpackChunkfrontend_create_cocktail||[]).push([[318],{3318:function(n,t,e){e.r(t),e.d(t,{default:function(){return W}});var r,i,a,o,c,s,l,u=e(5861),g=e(9439),d=e(4687),h=e.n(d),p=e(2015),f=e(168),y=e(6856),v=e(9443),x=e(6088),m=x.Z.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),k=x.Z.ul(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n"]))),w=x.Z.li(a||(a=(0,f.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]))),j=x.Z.button(o||(o=(0,f.Z)(["\n  transition: ",";\n\n  :disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n  :focus {\n    outline: 1px solid ",";\n  }\n"])),v.r.animation("opacity"),v.r.colors.grayOpacity),Z="\n  color: ".concat(v.r.colors.lightGray,";\n  width: 28px;\n  height: 35px;\n  transition: ").concat(v.r.animation("color"),";\n  transition: ").concat(v.r.animation("scale"),";\n\n  :hover,\n  :focus {\n    color: ").concat(v.r.colors.lightGray,";\n    scale: 1.5;\n  }\n"),b=(0,x.Z)(y.RL9)(c||(c=(0,f.Z)(["\n  ","\n"])),Z),P=(0,x.Z)(y.Bqb)(s||(s=(0,f.Z)(["\n  ","\n"])),Z),C=x.Z.button(l||(l=(0,f.Z)(["\n  color: ",";\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n\n  transition: ",";\n  transition: ",";\n  transition: ",";\n\n  &:hover {\n    scale: 1.2;\n    background-color: rgba(64, 112, 205, 0.2);\n    color: ",";\n    outline: 1px solid ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &.active {\n    background-color: ",";\n    color: ",";\n    :hover,\n    :focus {\n      scale: 1;\n    }\n  }\n"])),v.r.colors.transparentLight,v.r.animation("scale"),v.r.animation("background-color"),v.r.animation("color"),v.r.colors.lightGray,v.r.colors.grayOpacity,v.r.colors.lightBlueLight,v.r.colors.lightGray),L=e(184),S=function(n){for(var t=n.paginate,e=n.prevPage,r=n.nextPage,i=n.currentPage,a=n.totalPages,o=[],c=1;c<=a;c++)o.push(c);var s=[],l=Math.max(i-4,1),u=Math.min(l+8-1,a),g=l>1,d=u<a;l>1&&s.push(1),g&&s.push("...");for(var h=l;h<=u;h++)s.push(h);return d&&s.push("..."),u<a&&s.push(a),(0,L.jsx)(m,{children:o.length>1&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j,{onClick:e,disabled:1===i,children:(0,L.jsx)(b,{disabled:1===i})}),(0,L.jsx)(k,{children:s.map((function(n,e){return(0,L.jsx)(w,{children:"..."===n?(0,L.jsx)("span",{children:n}):(0,L.jsx)(C,{className:n===i?"active":"",onClick:function(){return"..."!==n?t(n):null},children:n})},e)}))}),(0,L.jsx)(j,{onClick:r,disabled:i===a,children:(0,L.jsx)(P,{})})]})})},E=e(2791),G=e(9434),I=e(4257),_=e(1087),q=e(6933),z=e(1134),O=e(9085),W=function(){var n=(0,_.lr)(),t=(0,g.Z)(n,2),e=t[0],r=t[1],i=(0,E.useState)([]),a=(0,g.Z)(i,2),o=a[0],c=a[1],s=(0,E.useState)(0),l=(0,g.Z)(s,2),d=l[0],f=l[1],y=(0,E.useState)(1),v=(0,g.Z)(y,2),x=v[0],m=v[1],k=(0,E.useState)(b(window.innerWidth)),w=(0,g.Z)(k,2),j=w[0],Z=w[1];function b(n){return n<1440?10:9}var P=(0,z.cI)({defaultValues:{drink:"",category:"",ingredients:""}}),C=P.control,W=P.handleSubmit,B=P.getValues,D=(0,G.v9)(I.us.data),F=(0,G.v9)(I.jq.data),M=e.get("category")||"",V=e.get("drink")||"",A=e.get("ingredients")||"",H=j,J=x,N=(0,G.I0)();(0,E.useEffect)((function(){Promise.all([N((0,I.pE)()),N((0,I.D8)())]).catch((function(){return O.Am.error("Oops... Something went wrong :( Please try again later.")}))}),[N]),(0,E.useEffect)((function(){function n(){Z(b(window.innerWidth))}Z(b(window.innerWidth)),window.addEventListener("resize",n);var t={drink:V,category:M,ingredients:A,limit:j,page:x};return(0,q.sz)(t).then((function(n){c(n.results),f(n.totalPages)})).catch(console.log),function(){window.removeEventListener("resize",n)}}),[M,x,V,j,A,e]);var R=function(){var n=(0,u.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m(1),t=B("drink"),r({drink:t,category:M,ingredients:A,limit:H,page:J});case 2:case"end":return n.stop()}var t}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(n){m(n),r({drink:V,category:M,ingredients:A,limit:H,page:n})};return(0,L.jsxs)(p.$0,{title:"Drinks",children:[(0,L.jsx)(p.uJ,{onSubmit:W(R),control:C,categoriesList:D,ingredientsList:F,onChangeCategory:function(){var n;m(1),n=B("category.value"),r({drink:V,category:n,ingredients:A,limit:H,page:J})},onChangeIngredient:function(){var n;m(1),n=B("ingredients.value"),r({drink:V,category:M,ingredients:n,limit:H,page:J})},initialCategory:e.get("category"),initialIngredient:e.get("ingredients")}),0===o.length?(0,L.jsx)(p.we,{text:"Hmm, it seems like we haven't tasted any drinks matching your search criteria just yet. You might want to adjust your query; we've got plenty to show you!"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(p.u5,{drinks:o}),(0,L.jsx)(S,{paginate:Y,nextPage:function(){return Y(x+1)},prevPage:function(){return Y(x-1)},currentPage:x,totalPages:d})]})]})}}}]);
//# sourceMappingURL=318.5a3dcf18.chunk.js.map