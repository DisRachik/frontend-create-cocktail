"use strict";(self.webpackChunkfrontend_create_cocktail=self.webpackChunkfrontend_create_cocktail||[]).push([[318],{3318:function(n,t,e){e.r(t),e.d(t,{default:function(){return z}});var r,i,a,o,s,c,l,u=e(5861),g=e(9439),d=e(4687),h=e.n(d),p=e(2015),f=e(168),x=e(6856),m=e(9443),v=e(6088),y=v.Z.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),k=v.Z.ul(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 10px;\n"]))),w=v.Z.li(a||(a=(0,f.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]))),j=v.Z.button(o||(o=(0,f.Z)(["\n  transition: ",";\n\n  &:disabled {\n    opacity: 0;\n  }\n"])),m.r.animation("opacity")),Z=(0,v.Z)(x.RL9)(s||(s=(0,f.Z)(["\n  color: ",";\n  width: 28px;\n  height: 35px;\n  transition: ",";\n  transition: ",";\n\n  :hover,\n  :focus {\n    color: ",";\n    scale: 1.5;\n  }\n"])),m.r.colors.lightGrayTransparent,m.r.animation("color"),m.r.animation("scale"),m.r.colors.lightGray),b=(0,v.Z)(x.Bqb)(c||(c=(0,f.Z)(["\n  color: ",";\n  width: 28px;\n  height: 35px;\n  transition: ",";\n  transition: ",";\n\n  :hover,\n  :focus {\n    color: ",";\n    scale: 1.5;\n  }\n"])),m.r.colors.lightGray,m.r.animation("color"),m.r.animation("scale"),m.r.colors.lightGray),C=v.Z.button(l||(l=(0,f.Z)(["\n  color: ",";\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n  margin-bottom: 10px;\n  transition: ",";\n  transition: ",";\n  transition: ",";\n\n  &:focus,\n  :hover {\n    scale: 1.2;\n  }\n\n  &.active {\n    background-color: rgba(64, 112, 205, 0.5);\n    color: ",";\n  }\n"])),m.r.colors.transparentLight,m.r.animation("scale"),m.r.animation("background-color"),m.r.animation("color"),m.r.colors.lightGray),P=e(184),L=function(n){for(var t=n.paginate,e=n.prevPage,r=n.nextPage,i=n.currentPage,a=n.totalPages,o=[],s=1;s<=a;s++)o.push(s);var c=[],l=Math.max(i-4,1),u=Math.min(l+8-1,a),g=l>1,d=u<a;l>1&&c.push(1),g&&c.push("...");for(var h=l;h<=u;h++)c.push(h);return d&&c.push("..."),u<a&&c.push(a),(0,P.jsx)(y,{children:o.length>1&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(j,{onClick:e,disabled:1===i,children:(0,P.jsx)(Z,{})}),(0,P.jsx)(k,{children:c.map((function(n,e){return(0,P.jsx)(w,{children:"..."===n?(0,P.jsx)("span",{children:n}):(0,P.jsx)(C,{className:n===i?"active":"",onClick:function(){return"..."!==n?t(n):null},children:n})},e)}))}),(0,P.jsx)(j,{onClick:r,disabled:i===a,children:(0,P.jsx)(b,{})})]})})},S=e(2791),E=e(9434),G=e(4257),I=e(1087),_=e(6933),q=e(1134),z=function(){var n=(0,I.lr)(),t=(0,g.Z)(n,2),e=t[0],r=t[1],i=(0,S.useState)([]),a=(0,g.Z)(i,2),o=a[0],s=a[1],c=(0,S.useState)(0),l=(0,g.Z)(c,2),d=l[0],f=l[1],x=(0,S.useState)(1),m=(0,g.Z)(x,2),v=m[0],y=m[1],k=(0,S.useState)(b(window.innerWidth)),w=(0,g.Z)(k,2),j=w[0],Z=w[1];function b(n){return n<1440?10:9}var C=(0,q.cI)({defaultValues:{drink:"",category:"",ingredients:""}}),z=C.control,W=C.handleSubmit,D=C.getValues,F=(0,E.v9)(G.us.data),M=(0,E.v9)(G.jq.data),V=e.get("category")||"",B=e.get("drink")||"",H=e.get("ingredients")||"",J=j,N=v,R=(0,E.I0)();(0,S.useEffect)((function(){0===F.length&&R((0,G.pE)()),0===M.length&&R((0,G.D8)())}),[F.length,R,M.length]),(0,S.useEffect)((function(){function n(){Z(b(window.innerWidth))}Z(b(window.innerWidth)),window.addEventListener("resize",n);var t={drink:B,category:V,ingredients:H,limit:j,page:v};return(0,_.sz)(t).then((function(n){s(n.results),f(n.totalPages)})).catch(console.log),function(){window.removeEventListener("resize",n)}}),[V,v,B,j,H,e]);var T=function(){var n=(0,u.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:y(1),t=D("drink"),r({drink:t,category:V,ingredients:H,limit:J,page:N});case 2:case"end":return n.stop()}var t}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(n){y(n),r({drink:B,category:V,ingredients:H,limit:J,page:n})};return(0,P.jsxs)(p.$0,{title:"Drinks",children:[(0,P.jsx)(p.uJ,{onSubmit:W(T),control:z,categoriesList:F,ingredientsList:M,onChangeCategory:function(){var n;y(1),n=D("category.value"),r({drink:B,category:n,ingredients:H,limit:J,page:N})},onChangeIngredient:function(){var n;y(1),n=D("ingredients.value"),r({drink:B,category:V,ingredients:n,limit:J,page:N})},initialCategory:e.get("category"),initialIngredient:e.get("ingredients")}),0===o.length?(0,P.jsx)(p.we,{text:"Hmm, it seems like we haven't tasted any drinks matching your search criteria just yet. You might want to adjust your query; we've got plenty to show you!"}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.u5,{drinks:o}),(0,P.jsx)(L,{paginate:Y,nextPage:function(){return Y(v+1)},prevPage:function(){return Y(v-1)},currentPage:v,totalPages:d})]})]})}}}]);
//# sourceMappingURL=318.434ed48e.chunk.js.map